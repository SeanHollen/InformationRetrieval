<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0055)https://course.ccs.neu.edu/cs6200f20/assignments/1.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta http-equiv="Content-Type" content="text/html">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CS 6200 | Information Retrieval</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
	</script>
	<script src="./CS 6200 _ Information Retrieval_files/popper.min.js.download" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
	</script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
	</script>

	<link href="./CS 6200 _ Information Retrieval_files/style.css" rel="stylesheet" type="text/css">
<style></style></head>

<body>
	
	<div id="main-content" class="container">
		<div class="container">
			<div class="row">
			  <div class="col-md-12">
				<div>
				  <article id="content">
					<h3 style="background-color: white; color: black;
					  font-family: AppleGothic;"><big><big><big><small>CS6200
	
	
	
	
							  Information Retrieval&nbsp;</small> <small><font color="#3333ff">Homework1: Retrieval Models</font></small></big></big></big></h3>
					<h1 id="objective:b7552e5b9df3d65c77124ec8f56d54bb">Objective</h1>
					<ul>
					<li>Introduction to elasticsearch: one of the many available
					  commercial-grade indexes. These instructions will
					  generally not spell out how to accomplish various
					  tasks in elasticsearch; instead, you are encouraged to read the online
					  documentation to familiarize yourself with this tool. Feel free to
					  ask for help on Piazza or during office hours if you encounter any difficulties.</li>
					<li>Implement and compare various retrieval systems using
					  vector space models and language models. Explain how
					  and why their performance differs.</li>
					</ul>
					<p>This assignment involves writing two programs:</p>
					<ol>
					  <li>A program to parse the corpus and index it with
						elasticsearch</li>
					  <li>A query processor, which runs queries from an
						input file using a selected retrieval model</li>
					</ol>
					<h1 id="first-steps:b7552e5b9df3d65c77124ec8f56d54bb">Task1: Elasticsearch
					  </h1>
					<ul>
					  <li>Download and install <a href="http://www.elasticsearch.org/">elasticsearch</a>,
						and the <a href="https://www.elastic.co/products/kibana">kibana</a>
						plugin<br>
					  </li>
					  <li>Download IR_data/AP89_DATA.zip from Github.</li>
					</ul>
					<h1 id="document-indexing:b7552e5b9df3d65c77124ec8f56d54bb">Task2: Document
	
	
	
	
	
	
	
	
	
	
	
	
					  Indexing</h1>
					<p>Create an index of the downloaded corpus. The
					  documents are found within the ap89_collection folder
					  in the data .zip file. You will need to write a
					  program to parse the documents and send them to your
					  elasticsearch instance.</p>
					<p>The corpus files are in a standard format used by
					  TREC. Each file contains multiple documents. The
					  format is similar to XML, but standard XML and HTML
					  parsers will not work correctly. Instead, read the
					  file one line at a time with the following rules:</p>
					<ol>
					  <li>Each document begins with a line containing <code>&lt;DOC&gt;</code>
						and ends with a line containing <code>&lt;/DOC&gt;</code>.</li>
					  <li>The first several lines of a document’s record
						contain various metadata. You should read the <code>&lt;DOCNO&gt;</code>
						field and use it as the ID of the document.</li>
					  <li>The document contents are between lines containing
						<code>&lt;TEXT&gt;</code> and <code>&lt;/TEXT&gt;</code>.</li>
					  <li>All other file contents can be ignored.</li>
					</ol>
					<p>Make sure to index term positions: you will need them
					  later. You are also free to add any other fields to
					  your index for later use. This might be the easiest
					  way to get particular values used in the scoring
					  functions. However, if a value is provided by
					  elasticsearch then we encourage you to retrieve it
					  using the elasticsearch API rather than calculating
					  and storing it yourself.</p>
					<h1 id="query-execution:b7552e5b9df3d65c77124ec8f56d54bb">Task3: Query
					  execution</h1>
					<p>Write a program to run the queries in the file
					  query_desc.51-100.short.txt, included in the data .zip
					  file. You should run all queries (omitting the leading
					  number) using each of the retrieval models listed
					  below, and output the top 1000 results for each query
					  to an output file. If a particular query has fewer
					  than 1000 documents with a nonzero matching score, then
					  just list whichever documents have nonzero scores.</p>
					<p>You should write precisely one output file per
					  retrieval model. Each line of an output file should
					  specify one retrieved document, in the following
					  format:</p>
					<pre><code>&lt;query-number&gt; Q0 &lt;docno&gt; &lt;rank&gt; &lt;score&gt; Exp
	</code></pre>
					<p>Where:</p>
					<ul>
					  <li><query-number> is the number preceding the query
						  in the query list</query-number></li>
					  <li><docno> is the document number, from the <code>&lt;DOCNO&gt;</code>
						  field (which we asked you to index)</docno></li>
					  <li><rank> is the document rank: an integer from
						  1-1000</rank></li>
					  <li><score> is the retrieval model’s matching score
						  for the document</score></li>
					  <li>Q0 and Exp are entered literally</li>
					</ul>
					<p>Your program will run queries against elasticsearch.
					  Instead of using their built in query engine, we will
					  be retrieving information such as TF and DF scores
					  from elasticsearch and implementing our own document
					  ranking. It will be helpful if you write a method
					  which takes a term as a parameter and retrieves the
					  postings for that term from elasticsearch. You can
					  then easily reuse this method to implement the
					  retrieval models.</p>
	
					<p>Implement the following retrieval models, using TF
					  and DF scores from your elasticsearch index, as
					  needed:</p>
				
					<h2 id="okapi-tf:b7552e5b9df3d65c77124ec8f56d54bb">ES built-in </h2>
				<p> Use ES query with the API "match"{"body_text":"query keywords"}. 
					This should be somewhat similar to BM25 scoring
								
	
					</p><h2 id="okapi-tf:b7552e5b9df3d65c77124ec8f56d54bb">Okapi
					  TF</h2>
					<p>This is a vector space model using a slightly
					  modified version of TF to score documents. The Okapi
					  TF score for term <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 0.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.725em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.73em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.639em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">w</script></code> in document <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-4" style="width: 0.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.509em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.51em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">d</script></code>
					  is as follows.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1.5&lt;/mn&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;/&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7" style="width: 32.362em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.516em; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(0.544em, 1024.52em, 3.358em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-10" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-11" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-17" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-19" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-20" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-21" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="mfrac" id="MathJax-Span-23" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 16.723em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1002em, 4.44em, -999.997em); top: -4.759em; left: 50%; margin-left: -0.971em;"><span class="mrow" id="MathJax-Span-24"><span class="mi" id="MathJax-Span-25" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-26"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-27" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-28"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-31" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-32" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.087em, 1016.51em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -8.277em;"><span class="mrow" id="MathJax-Span-33"><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-35"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-37"><span class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-42" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mn" id="MathJax-Span-43" style="font-family: MathJax_Main; padding-left: 0.219em;">0.5</span><span class="mo" id="MathJax-Span-44" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mn" id="MathJax-Span-45" style="font-family: MathJax_Main; padding-left: 0.219em;">1.5</span><span class="mo" id="MathJax-Span-46" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mo" id="MathJax-Span-47" style="font-family: MathJax_Main; padding-left: 0.219em;">(</span><span class="mi" id="MathJax-Span-48" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-51" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-52" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-53" style="font-family: MathJax_Main;">)</span><span class="texatom" id="MathJax-Span-54"><span class="mrow" id="MathJax-Span-55"><span class="mo" id="MathJax-Span-56" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-57" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-58" style="font-family: MathJax_Math-italic;">v</span><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-61" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-63" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-64" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-65" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-66" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-68" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1016.72em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 16.723em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.425em; border-left: 0px solid; width: 0px; height: 3.432em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>o</mi><mi>k</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi mathvariant="normal">_</mi><mi>t</mi><mi>f</mi><mo stretchy="false">(</mo><mi>w</mi><mo>,</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub></mrow><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub><mo>+</mo><mn>0.5</mn><mo>+</mo><mn>1.5</mn><mo>⋅</mo><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>a</mi><mi>v</mi><mi>g</mi><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-3"> okapi\_tf(w, d) = \frac{tf_{w,d}}{tf_{w,d} + 0.5
					  + 1.5 \cdot (len(d) / avg(len(d)))} </script></div>
					<p>Where:</p>
					<ul>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-69" style="width: 2.24em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.024em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1002.02em, 2.673em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-70"><span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-72"><span style="display: inline-block; position: relative; width: 1.663em; height: 0px;"><span style="position: absolute; clip: rect(3.034em, 1000.58em, 4.405em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-73" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.076em;"></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.509em;"><span class="texatom" id="MathJax-Span-74"><span class="mrow" id="MathJax-Span-75"><span class="mi" id="MathJax-Span-76" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-77" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-78" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.393em; border-left: 0px solid; width: 0px; height: 1.274em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-4">tf_{w,d}</script></code> is the term frequency of
						term <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-79" style="width: 0.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.725em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.73em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.639em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">w</script></code> in document <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-82" style="width: 0.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.509em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.51em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-83"><span class="mi" id="MathJax-Span-84" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">d</script></code></li>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-85" style="width: 2.962em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.673em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1002.6em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-86"><span class="mi" id="MathJax-Span-87" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-88" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-89" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-90" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-91" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span class="mo" id="MathJax-Span-92" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.274em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7">len(d)</script></code> is the length of document <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-93" style="width: 0.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.509em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.51em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-94"><span class="mi" id="MathJax-Span-95" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">d</script></code></li>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-96" style="width: 5.487em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.982em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1004.91em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-97"><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-99" style="font-family: MathJax_Math-italic;">v</span><span class="mi" id="MathJax-Span-100" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span class="mo" id="MathJax-Span-101" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-102" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-104" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-105" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-106" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span class="mo" id="MathJax-Span-107" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-108" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.274em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>v</mi><mi>g</mi><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-9">avg(len(d))</script></code> is the average document
						length for the entire corpus</li>
					</ul>
					<p>The matching score for document <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-109" style="width: 0.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.509em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.51em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-110"><span class="mi" id="MathJax-Span-111" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">d</script></code> and
					  query <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-112" style="width: 0.509em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.44em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-113"><span class="mi" id="MathJax-Span-114" style="font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.877em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">q</script></code> is as follows.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-115" style="width: 16.236em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.286em; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(1.031em, 1012.18em, 3.628em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-116"><span class="mi" id="MathJax-Span-117" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-118" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-119" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-120" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-121" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-122" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-123" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-124" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="munderover" id="MathJax-Span-125" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1001.41em, 4.602em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-126" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.466em, 1001.3em, 4.386em, -999.997em); top: -2.973em; left: 0.057em;"><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mi" id="MathJax-Span-129" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-130" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-131" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-132" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">o</span><span class="mi" id="MathJax-Span-133" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-134" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-135" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-136" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-137" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-138" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-139" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-140" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-141" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-142" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-143" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-144" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.782em; border-left: 0px solid; width: 0px; height: 3.075em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>t</mi><mi>f</mi><mo stretchy="false">(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>∈</mo><mi>q</mi></mrow></munder><mi>o</mi><mi>k</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi mathvariant="normal">_</mi><mi>t</mi><mi>f</mi><mo stretchy="false">(</mo><mi>w</mi><mo>,</mo><mi>d</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-12"> tf(d, q) = \sum_{w \in q} okapi\_tf(w, d) </script></div>
					<h2 id="tf-idf:b7552e5b9df3d65c77124ec8f56d54bb">TF-IDF</h2>
					<p>This is the second vector space model. The scoring
					  function is as follows.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mfrac&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-145" style="width: 23.596em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.86em; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(0.652em, 1017.86em, 3.628em, -999.997em); top: -2.162em; left: 0em;"><span class="mrow" id="MathJax-Span-146"><span class="mi" id="MathJax-Span-147" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-148" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-149" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-150" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-151" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-152" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-153" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-154" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-155" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-156" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-157" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="munderover" id="MathJax-Span-158" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1001.41em, 4.602em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-159" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.466em, 1001.3em, 4.386em, -999.997em); top: -2.973em; left: 0.057em;"><span class="texatom" id="MathJax-Span-160"><span class="mrow" id="MathJax-Span-161"><span class="mi" id="MathJax-Span-162" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-163" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-164" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-165" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">o</span><span class="mi" id="MathJax-Span-166" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-167" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-168" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-169" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-171" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-172" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-173" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-174" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-175" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-176" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-177" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-178" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mi" id="MathJax-Span-179" style="font-family: MathJax_Main; padding-left: 0.219em;">log</span><span class="mo" id="MathJax-Span-180"></span><span class="mfrac" id="MathJax-Span-181" style="padding-left: 0.165em;"><span style="display: inline-block; position: relative; width: 1.734em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1000.81em, 4.169em, -999.997em); top: -4.705em; left: 50%; margin-left: -0.43em;"><span class="mi" id="MathJax-Span-182" style="font-family: MathJax_Math-italic;">D</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1001.57em, 4.386em, -999.997em); top: -3.298em; left: 50%; margin-left: -0.809em;"><span class="mrow" id="MathJax-Span-183"><span class="mi" id="MathJax-Span-184" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-185"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-186" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="mi" id="MathJax-Span-187" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1001.73em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.734em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.167em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.782em; border-left: 0px solid; width: 0px; height: 3.646em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>t</mi><mi>f</mi><mi>i</mi><mi>d</mi><mi>f</mi><mo stretchy="false">(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>∈</mo><mi>q</mi></mrow></munder><mi>o</mi><mi>k</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi mathvariant="normal">_</mi><mi>t</mi><mi>f</mi><mo stretchy="false">(</mo><mi>w</mi><mo>,</mo><mi>d</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>log</mi><mo>⁡</mo><mfrac><mi>D</mi><mrow><mi>d</mi><msub><mi>f</mi><mi>w</mi></msub></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-13"> tfidf(d, q) = \sum_{w \in q} okapi\_tf(w, d)
					  \cdot \log \frac{D}{df_w} </script></div>
					<p>Where:</p>
					<ul>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-188" style="width: 0.869em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.797em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.302em, 1000.8em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-189"><span class="mi" id="MathJax-Span-190" style="font-family: MathJax_Math-italic;">D</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.877em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">D</script></code> is the total number of documents
						in the corpus</li>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-191" style="width: 1.735em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.591em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1001.59em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-192"><span class="mi" id="MathJax-Span-193" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span><span class="msubsup" id="MathJax-Span-194"><span style="display: inline-block; position: relative; width: 1.086em; height: 0px;"><span style="position: absolute; clip: rect(3.034em, 1000.58em, 4.405em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-195" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.076em;"></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.509em;"><span class="mi" id="MathJax-Span-196" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.194em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><msub><mi>f</mi><mi>w</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-15">df_w</script></code> is the number of documents
						which contain term <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-197" style="width: 0.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.725em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.73em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-198"><span class="mi" id="MathJax-Span-199" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.639em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">w</script></code></li>
					</ul>
					<h2 id="okapi-bm25:b7552e5b9df3d65c77124ec8f56d54bb">Okapi
	
	
	
	
	
	
	
	
	
	
	
	
					  BM25</h2>
					<p>BM25 is a language model based on a binary
					  independence model. Its matching score is as follows.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mn&gt;25&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-200" style="width: 52.167em; display: inline-block;"><span style="display: inline-block; position: relative; width: 39.505em; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(2.708em, 1039.18em, 7.091em, -999.997em); top: -5.138em; left: 0em;"><span class="mrow" id="MathJax-Span-201"><span class="mi" id="MathJax-Span-202" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-203" style="font-family: MathJax_Math-italic;">m</span><span class="mn" id="MathJax-Span-204" style="font-family: MathJax_Main;">25</span><span class="mo" id="MathJax-Span-205" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-206" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-207" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-208" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-209" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-210" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="munderover" id="MathJax-Span-211" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1001.41em, 4.602em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-212" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.466em, 1001.3em, 4.386em, -999.997em); top: -2.973em; left: 0.057em;"><span class="texatom" id="MathJax-Span-213"><span class="mrow" id="MathJax-Span-214"><span class="mi" id="MathJax-Span-215" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-216" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-217" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-218" style="padding-left: 0.165em;"><span class="mo" id="MathJax-Span-219" style="vertical-align: 2.275em;"><span style="display: inline-block; position: relative; width: 0.652em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.865em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.593em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.675em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-220"><span class="mi" id="MathJax-Span-221" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-222"></span><span class="mrow" id="MathJax-Span-223"><span class="mo" id="MathJax-Span-224" style="vertical-align: 0em;"><span style="font-family: MathJax_Size3;">(</span></span><span class="mfrac" id="MathJax-Span-225"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1003.25em, 4.278em, -999.997em); top: -4.705em; left: 50%; margin-left: -1.675em;"><span class="mrow" id="MathJax-Span-226"><span class="mi" id="MathJax-Span-227" style="font-family: MathJax_Math-italic;">D</span><span class="mo" id="MathJax-Span-228" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mn" id="MathJax-Span-229" style="font-family: MathJax_Main; padding-left: 0.219em;">0.5</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1004.06em, 4.386em, -999.997em); top: -3.298em; left: 50%; margin-left: -2.054em;"><span class="mrow" id="MathJax-Span-230"><span class="mi" id="MathJax-Span-231" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="msubsup" id="MathJax-Span-232"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-233" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="mi" id="MathJax-Span-234" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-235" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mn" id="MathJax-Span-236" style="font-family: MathJax_Main; padding-left: 0.219em;">0.5</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1004.22em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 4.223em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="mo" id="MathJax-Span-237" style="vertical-align: 0em;"><span style="font-family: MathJax_Size3;">)</span></span></span><span class="mo" id="MathJax-Span-238" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mfrac" id="MathJax-Span-239" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 14.775em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1006.88em, 4.44em, -999.997em); top: -4.759em; left: 50%; margin-left: -3.46em;"><span class="mrow" id="MathJax-Span-240"><span class="mi" id="MathJax-Span-241" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-242"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-247" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-248" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-249" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="msubsup" id="MathJax-Span-250" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 0.977em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-251" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.544em;"><span class="mn" id="MathJax-Span-252" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-253" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mi" id="MathJax-Span-254" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">t</span><span class="msubsup" id="MathJax-Span-255"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-256" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-257"><span class="mrow" id="MathJax-Span-258"><span class="mi" id="MathJax-Span-259" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-260" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-261" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(2.708em, 1014.5em, 4.819em, -999.997em); top: -2.865em; left: 50%; margin-left: -7.302em;"><span class="mrow" id="MathJax-Span-262"><span class="mi" id="MathJax-Span-263" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-264"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-265" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-266"><span class="mrow" id="MathJax-Span-267"><span class="mi" id="MathJax-Span-268" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-269" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-270" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-271" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="msubsup" id="MathJax-Span-272" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 0.977em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-273" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.544em;"><span class="mn" id="MathJax-Span-274" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mrow" id="MathJax-Span-275" style="padding-left: 0.165em;"><span class="mo" id="MathJax-Span-276" style="vertical-align: 0em;"><span style="font-family: MathJax_Size2;">(</span></span><span class="mrow" id="MathJax-Span-277"><span class="mo" id="MathJax-Span-278" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-279" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-280" style="font-family: MathJax_Main; padding-left: 0.219em;">−</span><span class="mi" id="MathJax-Span-281" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">b</span><span class="mo" id="MathJax-Span-282" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-283" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mi" id="MathJax-Span-284" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">b</span><span class="mo" id="MathJax-Span-285" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mfrac" id="MathJax-Span-286" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 3.628em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.304em, 1001.84em, 4.332em, -999.997em); top: -4.597em; left: 50%; margin-left: -0.917em;"><span class="mrow" id="MathJax-Span-287"><span class="mi" id="MathJax-Span-288" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-289" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-290" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-291" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-292" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-293" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.304em, 1003.41em, 4.332em, -999.997em); top: -3.569em; left: 50%; margin-left: -1.729em;"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-296" style="font-size: 70.7%; font-family: MathJax_Math-italic;">v</span><span class="mi" id="MathJax-Span-297" style="font-size: 70.7%; font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-298" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-299" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-300" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-301" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-302" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-303" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-304" style="font-size: 70.7%; font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-305" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1003.63em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.628em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-306" style="vertical-align: 0em;"><span style="font-family: MathJax_Size2;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1014.77em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 14.775em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="mo" id="MathJax-Span-307" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mfrac" id="MathJax-Span-308" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 6.929em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1006.77em, 4.44em, -999.997em); top: -4.759em; left: 50%; margin-left: -3.406em;"><span class="mrow" id="MathJax-Span-309"><span class="mi" id="MathJax-Span-310" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-311"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-312" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-313"><span class="mrow" id="MathJax-Span-314"><span class="mi" id="MathJax-Span-315" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-316" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-317" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-318" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="msubsup" id="MathJax-Span-319" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 0.977em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-320" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.544em;"><span class="mn" id="MathJax-Span-321" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-322" style="font-family: MathJax_Main; padding-left: 0.219em;">⋅</span><span class="mi" id="MathJax-Span-323" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">t</span><span class="msubsup" id="MathJax-Span-324"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-325" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-326"><span class="mrow" id="MathJax-Span-327"><span class="mi" id="MathJax-Span-328" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-329" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-330" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1004.12em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -2.054em;"><span class="mrow" id="MathJax-Span-331"><span class="mi" id="MathJax-Span-332" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-333"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-334" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-335"><span class="mrow" id="MathJax-Span-336"><span class="mi" id="MathJax-Span-337" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-338" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-339" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-340" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="msubsup" id="MathJax-Span-341" style="padding-left: 0.219em;"><span style="display: inline-block; position: relative; width: 0.977em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-342" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.544em;"><span class="mn" id="MathJax-Span-343" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1006.93em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 6.929em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-344" style="vertical-align: 2.275em;"><span style="display: inline-block; position: relative; width: 0.652em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.865em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.593em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.675em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.143em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.425em; border-left: 0px solid; width: 0px; height: 5.504em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>b</mi><mi>m</mi><mn>25</mn><mo stretchy="false">(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>∈</mo><mi>q</mi></mrow></munder><mrow><mo>[</mo><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mfrac><mrow><mi>D</mi><mo>+</mo><mn>0.5</mn></mrow><mrow><mi>d</mi><msub><mi>f</mi><mi>w</mi></msub><mo>+</mo><mn>0.5</mn></mrow></mfrac><mo>)</mo></mrow><mo>⋅</mo><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>1</mn></msub><mo>⋅</mo><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub></mrow><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>1</mn></msub><mrow><mo>(</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>b</mi><mo stretchy="false">)</mo><mo>+</mo><mi>b</mi><mo>⋅</mo><mfrac><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo></mrow><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>⋅</mo><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>q</mi></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>2</mn></msub><mo>⋅</mo><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>q</mi></mrow></msub></mrow><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>q</mi></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>2</mn></msub></mrow></mfrac></mrow><mo>]</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-17"> bm25(d, q) = \sum_{w \in q} \left[ \log\left(
					  \frac{D + 0.5}{df_w + 0.5} \right) \cdot
					  \frac{tf_{w,d} + k_1 \cdot tf_{w,d}}{tf_{w,d} + k_1
					  \left((1-b) + b \cdot
					  \frac{len(d)}{avg(len(d))}\right)} \cdot
					  \frac{tf_{w,q} + k_2 \cdot tf_{w,q}}{tf_{w,q} + k_2}
					  \right] </script></div>
					<p>Where:</p>
					<ul>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-345" style="width: 2.168em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.952em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1001.95em, 2.673em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-346"><span class="mi" id="MathJax-Span-347" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-348"><span style="display: inline-block; position: relative; width: 1.591em; height: 0px;"><span style="position: absolute; clip: rect(3.034em, 1000.58em, 4.405em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-349" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.076em;"></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.509em;"><span class="texatom" id="MathJax-Span-350"><span class="mrow" id="MathJax-Span-351"><span class="mi" id="MathJax-Span-352" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-353" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-354" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.393em; border-left: 0px solid; width: 0px; height: 1.274em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>q</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-18">tf_{w,q}</script></code> is the term frequency of
						term <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-355" style="width: 0.797em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.725em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.73em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-356"><span class="mi" id="MathJax-Span-357" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.639em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-19">w</script></code> in query <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-358" style="width: 0.509em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.519em, 1000.44em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-359"><span class="mi" id="MathJax-Span-360" style="font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 0.877em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span><script type="math/tex" id="MathJax-Element-20">q</script></code></li>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-361" style="width: 1.086em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.942em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.94em, 2.529em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-362"><span class="msubsup" id="MathJax-Span-363"><span style="display: inline-block; position: relative; width: 0.942em; height: 0px;"><span style="position: absolute; clip: rect(3.034em, 1000.51em, 4.188em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-364" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.509em;"><span class="mn" id="MathJax-Span-365" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.234em; border-left: 0px solid; width: 0px; height: 1.115em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>k</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-21">k_1</script></code>, <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-366" style="width: 1.086em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.942em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.94em, 2.529em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-367"><span class="msubsup" id="MathJax-Span-368"><span style="display: inline-block; position: relative; width: 0.942em; height: 0px;"><span style="position: absolute; clip: rect(3.034em, 1000.51em, 4.188em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-369" style="font-family: MathJax_Math-italic;">k</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.509em;"><span class="mn" id="MathJax-Span-370" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.234em; border-left: 0px solid; width: 0px; height: 1.115em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>k</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-22">k_2</script></code>, and <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-371" style="width: 0.509em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.44em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-372"><span class="mi" id="MathJax-Span-373" style="font-family: MathJax_Math-italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-23">b</script></code>
						are constants. You can use the values from the
						slides, or try your own.</li>
					</ul>
					<h2 id="unigram-lm-with-laplace-smoothing:b7552e5b9df3d65c77124ec8f56d54bb">Unigram
	
	
	
	
	
	
	
	
	
	
	
	
					  LM with Laplace smoothing</h2>
					<p>This is a language model with Laplace (“add-one”)
					  smoothing. We will use maximum likelihood estimates of
					  the query based on a multinomial model “trained” on
					  the document. The matching score is as follows.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;|&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mspace linebreak=&quot;newline&quot; /&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;|&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-374" style="width: 100%; display: inline-block; min-width: 23.325em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(4.981em, 1017.59em, 10.446em, -999.997em); top: -6.112em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-375"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1017.59em, 5.468em, -999.997em); top: -4.002em; left: 50%; margin-left: -8.818em;"><span class="mi" id="MathJax-Span-376" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-377" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-378" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-379" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-380" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-381" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-382" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-383" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-384" style="font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-385" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-386" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-387" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-388" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-389" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-390" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-391" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="munderover" id="MathJax-Span-392" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1001.41em, 4.602em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-393" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.466em, 1001.3em, 4.386em, -999.997em); top: -2.973em; left: 0.057em;"><span class="texatom" id="MathJax-Span-394"><span class="mrow" id="MathJax-Span-395"><span class="mi" id="MathJax-Span-396" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-397" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-398" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-399" style="font-family: MathJax_Main; padding-left: 0.165em;">log</span><span class="mo" id="MathJax-Span-400"></span><span class="mi" id="MathJax-Span-401" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">p</span><span class="mi" id="MathJax-Span-402" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-403" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-404" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-405" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-406" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-407" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-408" style="font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-409" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-410" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-411" style="font-family: MathJax_Math-italic;">w</span><span class="texatom" id="MathJax-Span-412"><span class="mrow" id="MathJax-Span-413"><span class="mo" id="MathJax-Span-414" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-415" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-416" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(2.384em, 1012.66em, 5.143em, -999.997em); top: -0.809em; left: 50%; margin-left: -6.328em;"><span class="mspace" id="MathJax-Span-417" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-418" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-419" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-420" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-421" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-422" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-423" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-424" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-425" style="font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-426" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-427" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-428" style="font-family: MathJax_Math-italic;">w</span><span class="texatom" id="MathJax-Span-429"><span class="mrow" id="MathJax-Span-430"><span class="mo" id="MathJax-Span-431" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-432" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-433" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-434" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="mfrac" id="MathJax-Span-435" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 4.765em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1003.63em, 4.44em, -999.997em); top: -4.759em; left: 50%; margin-left: -1.837em;"><span class="mrow" id="MathJax-Span-436"><span class="mi" id="MathJax-Span-437" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-438"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-439" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-440"><span class="mrow" id="MathJax-Span-441"><span class="mi" id="MathJax-Span-442" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-443" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-444" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-445" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mn" id="MathJax-Span-446" style="font-family: MathJax_Main; padding-left: 0.219em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.087em, 1004.66em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -2.324em;"><span class="mrow" id="MathJax-Span-447"><span class="mi" id="MathJax-Span-448" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-449" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-450" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-451" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-452" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-453" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-454" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mi" id="MathJax-Span-455" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.165em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1004.76em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 4.765em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.117em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -5.568em; border-left: 0px solid; width: 0px; height: 6.861em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>l</mi><mi>m</mi><mi mathvariant="normal">_</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mo stretchy="false">(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>∈</mo><mi>q</mi></mrow></munder><mi>log</mi><mo>⁡</mo><mi>p</mi><mi mathvariant="normal">_</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mo stretchy="false">(</mo><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>p</mi><mi mathvariant="normal">_</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mo stretchy="false">(</mo><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub><mo>+</mo><mn>1</mn></mrow><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>+</mo><mi>V</mi></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-24"> lm\_laplace(d, q) = \sum_{w \in q} \log
					  p\_laplace(w|d) \\ p\_laplace(w|d) = \frac{tf_{w,d} +
					  1}{len(d) + V} </script></div>
					<p>Where:</p>
					<ul>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-456" style="width: 0.869em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.797em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.302em, 1000.8em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-457"><span class="mi" id="MathJax-Span-458" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.22em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">V</script></code> is the vocabulary size – the
						total number of unique terms in the collection.</li>
					</ul>
					 <h2 id="unigram-lm-with-jelinek-mercer-smoothing:b7552e5b9df3d65c77124ec8f56d54bb">Unigram
	
	
	
	
	
	
	
	
	
	
	
	
					  LM with Jelinek-Mercer smoothing</h2>
					<p>This is a similar language model, except that here we
					  smooth a foreground document language model with a
					  background model from the entire corpus.</p>
					<div class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-26-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>l</mi><mi>m</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>j</mi><mi>m</mi><mo stretchy=&quot;false&quot;>(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>w</mi><mo>&amp;#x2208;</mo><mi>q</mi></mrow></munder><mi>log</mi><mo>&amp;#x2061;</mo><mi>p</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>j</mi><mi>m</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mi>p</mi><mi mathvariant=&quot;normal&quot;>&amp;#x005F;</mi><mi>j</mi><mi>m</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>&amp;#x03BB;</mi><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub></mrow><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>&amp;#x03BB;</mi><mo stretchy=&quot;false&quot;>)</mo><mfrac><mrow><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mi>d</mi><mo>&amp;#x2032;</mo></msup></mrow></munder><mi>t</mi><msub><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>w</mi><mo>,</mo><msup><mi>d</mi><mo>&amp;#x2032;</mo></msup></mrow></msub></mrow><mrow><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mi>d</mi><mo>&amp;#x2032;</mo></msup></mrow></munder><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>d</mi><mo>&amp;#x2032;</mo></msup><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-459" style="width: 100%; display: inline-block; min-width: 25.165em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 132%;"><span style="position: absolute; clip: rect(5.143em, 1019.05em, 10.771em, -999.997em); top: -6.274em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-460"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1014.02em, 5.468em, -999.997em); top: -4.002em; left: 50%; margin-left: -7.086em;"><span class="mi" id="MathJax-Span-461" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-462" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-463" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-464" style="font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-465" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-466" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-467" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-468" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-469" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-470" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-471" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="munderover" id="MathJax-Span-472" style="padding-left: 0.273em;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px;"><span style="position: absolute; clip: rect(2.871em, 1001.41em, 4.602em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-473" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.466em, 1001.3em, 4.386em, -999.997em); top: -2.973em; left: 0.057em;"><span class="texatom" id="MathJax-Span-474"><span class="mrow" id="MathJax-Span-475"><span class="mi" id="MathJax-Span-476" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-477" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-478" style="font-size: 70.7%; font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-479" style="font-family: MathJax_Main; padding-left: 0.165em;">log</span><span class="mo" id="MathJax-Span-480"></span><span class="mi" id="MathJax-Span-481" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">p</span><span class="mi" id="MathJax-Span-482" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-483" style="font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-484" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-485" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-486" style="font-family: MathJax_Math-italic;">w</span><span class="texatom" id="MathJax-Span-487"><span class="mrow" id="MathJax-Span-488"><span class="mo" id="MathJax-Span-489" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-490" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-491" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(2.275em, 1019.05em, 5.198em, -999.997em); top: -0.701em; left: 50%; margin-left: -9.521em;"><span class="mspace" id="MathJax-Span-492" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-493" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-494" style="font-family: MathJax_Main;">_</span><span class="mi" id="MathJax-Span-495" style="font-family: MathJax_Math-italic;">j</span><span class="mi" id="MathJax-Span-496" style="font-family: MathJax_Math-italic;">m</span><span class="mo" id="MathJax-Span-497" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-498" style="font-family: MathJax_Math-italic;">w</span><span class="texatom" id="MathJax-Span-499"><span class="mrow" id="MathJax-Span-500"><span class="mo" id="MathJax-Span-501" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-502" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-503" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-504" style="font-family: MathJax_Main; padding-left: 0.273em;">=</span><span class="mi" id="MathJax-Span-505" style="font-family: MathJax_Math-italic; padding-left: 0.273em;">λ</span><span class="mfrac" id="MathJax-Span-506"><span style="display: inline-block; position: relative; width: 2.762em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.141em, 1002em, 4.44em, -999.997em); top: -4.759em; left: 50%; margin-left: -0.971em;"><span class="mrow" id="MathJax-Span-507"><span class="mi" id="MathJax-Span-508" style="font-family: MathJax_Math-italic;">t</span><span class="msubsup" id="MathJax-Span-509"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-510" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.49em;"><span class="texatom" id="MathJax-Span-511"><span class="mrow" id="MathJax-Span-512"><span class="mi" id="MathJax-Span-513" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-514" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-515" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.087em, 1002.55em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -1.35em;"><span class="mrow" id="MathJax-Span-516"><span class="mi" id="MathJax-Span-517" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-518" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-519" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-520" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-521" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-522" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1002.76em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.762em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="mo" id="MathJax-Span-523" style="font-family: MathJax_Main; padding-left: 0.219em;">+</span><span class="mo" id="MathJax-Span-524" style="font-family: MathJax_Main; padding-left: 0.219em;">(</span><span class="mn" id="MathJax-Span-525" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-526" style="font-family: MathJax_Main; padding-left: 0.219em;">−</span><span class="mi" id="MathJax-Span-527" style="font-family: MathJax_Math-italic; padding-left: 0.219em;">λ</span><span class="mo" id="MathJax-Span-528" style="font-family: MathJax_Main;">)</span><span class="mfrac" id="MathJax-Span-529"><span style="display: inline-block; position: relative; width: 5.035em; height: 0px; margin-right: 0.111em; margin-left: 0.111em;"><span style="position: absolute; clip: rect(3.087em, 1004.17em, 4.548em, -999.997em); top: -4.867em; left: 50%; margin-left: -2.054em;"><span class="mrow" id="MathJax-Span-530"><span class="munderover" id="MathJax-Span-531"><span style="display: inline-block; position: relative; width: 1.734em; height: 0px;"><span style="position: absolute; clip: rect(3.087em, 1000.98em, 4.44em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-532" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.731em; left: 1.085em;"><span class="texatom" id="MathJax-Span-533"><span class="mrow" id="MathJax-Span-534"><span class="msup" id="MathJax-Span-535"><span style="display: inline-block; position: relative; width: 0.598em; height: 0px;"><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-536" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.436em;"><span class="mo" id="MathJax-Span-537" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-538" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">t</span><span class="msubsup" id="MathJax-Span-539"><span style="display: inline-block; position: relative; width: 1.897em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.386em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-540" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.785em; left: 0.49em;"><span class="texatom" id="MathJax-Span-541"><span class="mrow" id="MathJax-Span-542"><span class="mi" id="MathJax-Span-543" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-544" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-545"><span style="display: inline-block; position: relative; width: 0.598em; height: 0px;"><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-546" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.436em;"><span class="mo" id="MathJax-Span-547" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(3.087em, 1004.82em, 4.44em, -999.997em); top: -3.298em; left: 50%; margin-left: -2.432em;"><span class="mrow" id="MathJax-Span-548"><span class="munderover" id="MathJax-Span-549"><span style="display: inline-block; position: relative; width: 1.734em; height: 0px;"><span style="position: absolute; clip: rect(3.087em, 1000.98em, 4.44em, -999.997em); top: -4.002em; left: 0em;"><span class="mo" id="MathJax-Span-550" style="font-family: MathJax_Size1; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -3.731em; left: 1.085em;"><span class="texatom" id="MathJax-Span-551"><span class="mrow" id="MathJax-Span-552"><span class="msup" id="MathJax-Span-553"><span style="display: inline-block; position: relative; width: 0.598em; height: 0px;"><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-554" style="font-size: 70.7%; font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.326em; left: 0.436em;"><span class="mo" id="MathJax-Span-555" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mi" id="MathJax-Span-556" style="font-family: MathJax_Math-italic; padding-left: 0.165em;">l</span><span class="mi" id="MathJax-Span-557" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-558" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-559" style="font-family: MathJax_Main;">(</span><span class="msup" id="MathJax-Span-560"><span style="display: inline-block; position: relative; width: 0.869em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.54em, 4.169em, -999.997em); top: -4.002em; left: 0em;"><span class="mi" id="MathJax-Span-561" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; top: -4.272em; left: 0.598em;"><span class="mo" id="MathJax-Span-562" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span class="mo" id="MathJax-Span-563" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span><span style="position: absolute; clip: rect(0.869em, 1005.03em, 1.247em, -999.997em); top: -1.296em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.035em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.007em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.28em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -5.782em; border-left: 0px solid; width: 0px; height: 7.146em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>l</mi><mi>m</mi><mi mathvariant="normal">_</mi><mi>j</mi><mi>m</mi><mo stretchy="false">(</mo><mi>d</mi><mo>,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>∈</mo><mi>q</mi></mrow></munder><mi>log</mi><mo>⁡</mo><mi>p</mi><mi mathvariant="normal">_</mi><mi>j</mi><mi>m</mi><mo stretchy="false">(</mo><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>p</mi><mi mathvariant="normal">_</mi><mi>j</mi><mi>m</mi><mo stretchy="false">(</mo><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mi>λ</mi><mfrac><mrow><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><mi>d</mi></mrow></msub></mrow><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>λ</mi><mo stretchy="false">)</mo><mfrac><mrow><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><msup><mi>d</mi><mo>′</mo></msup></mrow></munder><mi>t</mi><msub><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mo>,</mo><msup><mi>d</mi><mo>′</mo></msup></mrow></msub></mrow><mrow><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><msup><mi>d</mi><mo>′</mo></msup></mrow></munder><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><msup><mi>d</mi><mo>′</mo></msup><mo stretchy="false">)</mo></mrow></mfrac></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-26"> lm\_jm(d, q) = \sum_{w \in q} \log p\_jm(w|d) \\
					  p\_jm(w|d) = \lambda \frac{tf_{w,d}}{len(d)} + (1 -
					  \lambda) \frac{\sum_{d'} tf_{w,d'}}{\sum_{d'} len(d')}
					  </script></div>
					<p>Where:</p>
					<ul>
					  <li><code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BB;</mi><mo>&amp;#x2208;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-564" style="width: 4.477em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.044em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1003.97em, 2.601em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-565"><span class="mi" id="MathJax-Span-566" style="font-family: MathJax_Math-italic;">λ</span><span class="mo" id="MathJax-Span-567" style="font-family: MathJax_Main; padding-left: 0.292em;">∈</span><span class="mo" id="MathJax-Span-568" style="font-family: MathJax_Main; padding-left: 0.292em;">(</span><span class="mn" id="MathJax-Span-569" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-570" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-571" style="font-family: MathJax_Main; padding-left: 0.148em;">1</span><span class="mo" id="MathJax-Span-572" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.313em; border-left: 0px solid; width: 0px; height: 1.274em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>λ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-27">\lambda \in (0, 1)</script></code> is a smoothing
						parameter which specifies the mixture of the
						foreground and background distributions.</li>
					</ul>
					<p>Think carefully about how to efficiently obtain the
					  background model here. If you wish, you can instead
					  estimate the corpus probability using <code class=" has-jax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mfrac><mrow><mi>c</mi><msub><mi>f</mi><mi>w</mi></msub></mrow><mi>V</mi></mfrac></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-573" style="width: 1.663em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.519em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(0.797em, 1001.52em, 2.817em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-574"><span class="mfrac" id="MathJax-Span-575"><span style="display: inline-block; position: relative; width: 1.23em; height: 0px; margin-right: 0.148em; margin-left: 0.148em;"><span style="position: absolute; clip: rect(3.25em, 1001.16em, 4.333em, -999.996em); top: -4.614em; left: 50%; margin-left: -0.574em;"><span class="mrow" id="MathJax-Span-576"><span class="mi" id="MathJax-Span-577" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="msubsup" id="MathJax-Span-578"><span style="display: inline-block; position: relative; width: 0.797em; height: 0px;"><span style="position: absolute; clip: rect(3.25em, 1000.36em, 4.333em, -999.996em); top: -3.965em; left: 0em;"><span class="mi" id="MathJax-Span-579" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.076em;"></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.364em;"><span class="mi" id="MathJax-Span-580" style="font-size: 57.7%; font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; clip: rect(3.25em, 1000.58em, 4.188em, -999.996em); top: -3.532em; left: 50%; margin-left: -0.285em;"><span class="mi" id="MathJax-Span-581" style="font-size: 70.7%; font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.148em;"></span></span><span style="display: inline-block; width: 0px; height: 3.972em;"></span></span><span style="position: absolute; clip: rect(0.797em, 1001.23em, 1.302em, -999.996em); top: -1.295em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.23em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.086em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.552em; border-left: 0px solid; width: 0px; height: 1.909em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><mi>c</mi><msub><mi>f</mi><mi>w</mi></msub></mrow><mi>V</mi></mfrac></math></span></span><script type="math/tex" id="MathJax-Element-28">\frac{cf_w}{V}</script></code>.</p>

			
					<h1 id="evaluation:b7552e5b9df3d65c77124ec8f56d54bb">Task4: Evaluation</h1>
			<p>	 A) Compare manually the top 10 docs returned by ESBuilt-In, TFIDF,  BM25, LMLaplace, for 5 queries specified by TAs. Explain or speculate on the reasons for differences in  the rankings</p><br>
				
					<p>B) Download <a href="https://course.ccs.neu.edu/cs6200f20/assets/uploads/trec_eval.pl.zip">trec_eval</a> and use
					  it to evalute your results for each retrieval model:</p>
					<p>To perform an evaluation, run:</p>
					<pre><code>trec_eval [-q] qrel_file results_file
	</code></pre>
					<p>The <code>-q</code> option shows a summary average
					  evaluation across all queries, followed by individual
					  evaluation results for each query; without the -q
					  option, you will see only the summary average. The
					  trec_eval program provides a wealth of statistics
					  about how well the uploaded file did for those
					  queries, including average precision, precision at
					  various recall cut-offs, and so on.</p>
					<p>You should evaluate using the QREL file named
					  qrels.adhoc.51-100.AP89.txt, included in the data .zip
					  file.</p>
					<p>Create a document showing the following metrics:</p>
					<ul>
					  <li>The uninterpolated mean average precision numbers
						for all six retrieval models.</li>
					  <li>Precision at 10 and precision at 30 documents for
						all six retrieval models.</li>
					</ul>
					<p>Be prepared to answer questions during your demo as
					  to how model performance compares, why the best model
					  outperformed the others, and so on.</p>

				<h1 id="evaluation:b7552e5b9df3d65c77124ec8f56d54bb">Task5: Pseudo-relevance Feedback (MS students only)</h1>	
				<h2 id="ec1-pseudo-rselevance-feedback:b7552e5b9df3d65c77124ec8f56d54bb">Pseudo-relevance Feedback
				
		  </h2>
	
				<p>Implement pseudo-relevance feedback. The general
				  algorithm is:</p>
				<ol>
				  <li>Retrieve the top <code class=" has-jax"><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-582" style="width: 0.581em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.509em; height: 0px; font-size: 110%;"><span style="position: absolute; clip: rect(1.23em, 1000.51em, 2.385em, -999.996em); top: -2.161em; left: 0em;"><span class="mrow" id="MathJax-Span-583"><span class="mi" id="MathJax-Span-584" style="font-family: MathJax_Math-italic;"></span></span><span style="display: inline-block; width: 0px; height: 2.168em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.075em; border-left: 0px solid; width: 0px; height: 0.956em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-29">k</script></code> documents using
					one of the above retrieval models.</li>
				  <li>Identify terms in these documents which are
					distinctive to the documents.</li>
				  <li>Add the terms to the query, and re-run the
					retrieval process. Return the final results.</li>
				</ol>
				<p>It is up to you to devise a reasonable way to choose
				  terms to add to the query. It doesn’t have to be
				  complicated, but you should be prepared to explain and
				  justify your approach.</p>
				<p>Evaluate your results using trec_eval and include
				  similar metrics with your submission.</p>
				
				
					  <h2 id="ec1-pseudo-relevance-feedback:b7552e5b9df3d65c77124ec8f56d54bb">
						Pseudo-relevance Feedback using ElasticSearch aggs
						"significant terms"<br>
					  </h2>
					  Use ES API "significat terms" separately on each query
					  term (stem root) to get a list of related words. The
					  words you want to add to the query are:<br>
					  &nbsp;&nbsp;&nbsp; - related to more than one query term<br>
					  &nbsp;&nbsp;&nbsp; - not stopwords<br>
					  &nbsp;&nbsp;&nbsp; - high IDF<br>
					  &nbsp;&nbsp;&nbsp; - other tricks you might need in
					  order to only get interesting words<br>
					  Add few of these words to the query and rerun your
					  models. <br>
					  <br>
					  Below is an example of this API in Sense for query term
					  "atom":<br>
					  GET /ap_dataset/document/_search<br>
					  {<br>
					  &nbsp;&nbsp;&nbsp; "query" : {<br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "terms" :
					  {"TEXT" : [ "atom" ]}<br>
					  &nbsp;&nbsp;&nbsp; },<br>
					  &nbsp;&nbsp;&nbsp; "aggregations" : {<br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					  "significantCrimeTypes" : {<br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					  "significant_terms" : {<br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					  "field" : "TEXT"
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					  <br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					  }<br>
					  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
					  &nbsp;&nbsp;&nbsp; },<br>
					  &nbsp;&nbsp;&nbsp; "size": 0<br>
					  }<br>
				
				
					<h1 id="extra-credit:b7552e5b9df3d65c77124ec8f56d54bb">Extra                  Credit</h1>
					<p>These extra problems are provided for students who
					  wish to dig deeper into this project. Extra credit is
					  meant to be significantly harder and more open-ended
					  than the standard problems. We strongly recommend
					  completing all of the above before attempting any of
					  these problems.</p>
					<p>No extra points will be awarded for EC assignments, they are only to satisfy students motivated to do more than the regular classwork.</p>
				   
				  
					<h2 id="ec2-bigram-language-models:b7552e5b9df3d65c77124ec8f56d54bb">EC1:
					  Bigram Language Models</h2>
					<p>Perform retrieval using a bigram language model. You
					  should match bigrams from the query against bigrams in
					  the document. You may smooth with a unigram language
					  model, if you wish.</p>
					<p>You should devise a matching score function for this
					  task. Your matching score should assign smaller scores
					  to documents when the two bigram terms appear at a
					  greater distance from each other. Use term position
					  information from elasticsearch to accomplish this. Be
					  prepared to explain and justify your matching score
					  function to the graders.</p>
					<p>Evaluate your results using trec_eval and include
					  similar metrics with your submission.<br>
					</p>
	
	
	
	
	
	
	
	
	
	
					<h3 id="submission-checklist:b7552e5b9df3d65c77124ec8f56d54bb">Submission
					  checklist</h3>
					<ul>
					  <li>Your source code for the indexer</li>
					  <li>Your source code for the query processor</li>
					  <li>A short report describing your implementation and comparing your scoring results that should be presented in a tabular form. The evaluation results should also be included in the report. </li>
					</ul>

					<h3 id="rubric:b7552e5b9df3d65c77124ec8f56d54bb">Rubric (for undegraduate students)</h3>
					<dl class="dl-horizontal">
					  <dt>10 points</dt>
					  <dd>Documents indexed correctly</dd>
					  <dt>10 points</dt>
					  <dd>Able to retrieve term and document statistics from
						elasticsearch</dd>
					  <dt>50 points</dt>
					  <dd>Retrieval models
					        implemented correctly</dd>
					  <dt>15 points</dt>
					  <dd>Your evaluation results are reasonable, and you
						can adequately explain your results during the demo.</dd>
					  <dt>10 points</dt>
					  <dd>Pseudo-relevance feedback
					       implemented correctly</dd>
 					  <dt>5 points</dt>
                                          <dd>Your submitted report</dd>
					</dl>
				  </article>
				</div>
			  </div>
			</div>
		  </div>
	</div>
	<footer>
		<hr>
		<center>
			Ⓒ Northeastern University, 2020, all rights reserved<br><br>
		</center>
	</footer>



</body></html>